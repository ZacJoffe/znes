fn main() {
    println!("Hello, world!");
}

struct Cpu {
    a: u8,
    x: u8,
    y: u8,
    pc: u16,
    sp: u8,
    p: u8,

    opcode_table[256; fn(&mut self)]
}

impl Cpu {
    fn new() -> Cpu {
        a: 0,
        x: 0,
        y: 0,
        pc: 0,
        sp: 0,
        p: 0,

        opcode_table: self.generate_opcode_table()
    }

    fn generate_opcode_tabe(&self) -> [256; fn(&mut self)] {

    }
}
